{% extends 'auth/base_auth.html' %}

{% block title %}Đăng Ký - TeaZen{% endblock %}

{% block extra_styles %}
<style>
    /* Centering Container */
    .page-container {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        width: 100%;
        padding: 2rem 0;
    }
</style>
{% endblock %}

{% block content %}
<!-- BACKGROUND TYPOGRAPHY -->
<div class="fixed top-[5%] right-[-2%] font-art text-[25vw] font-bold text-emerald-900/5 select-none leading-none z-0">ART</div>
<div class="fixed bottom-[-5%] left-[-5%] font-art text-[25vw] font-bold text-emerald-900/5 select-none leading-none z-0">TEA</div>
<div class="fixed top-1/2 right-10 -translate-y-1/2 font-jp text-9xl font-thin text-stone-900/5 select-none writing-vertical z-0">自然</div>

<!-- SCATTERED IMAGES -->
<div class="floating-item fixed bottom-20 right-[15%] w-64 aspect-[3/4] z-0 shadow-xl border-4 border-white -rotate-6 hover:z-20 hover:scale-105 transition-all duration-500 hidden md:block" style="--rot: -6deg;">
    <div class="tape -top-4 left-1/2 -translate-x-1/2 rotate-3"></div>
    <img src="https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500">
    <div class="absolute bottom-0 bg-white w-full p-2 text-center font-mono text-xs">Fig 02. Cold Brew</div>
</div>

<div class="floating-item fixed top-20 left-[10%] w-72 aspect-square z-0 shadow-xl border-4 border-white rotate-3 hover:z-20 hover:scale-105 transition-all duration-500 hidden md:block" style="--rot: 3deg;">
    <div class="tape -top-4 left-1/2 -translate-x-1/2 -rotate-2"></div>
    <img src="https://images.unsplash.com/photo-1563822249548-9a72b6353cd1?q=80&w=800" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500">
    <span class="absolute -left-4 -top-4 bg-orange-400 text-black font-bold px-3 py-1 rounded-full text-xs shadow-md -rotate-12">New Arrival</span>
</div>

<!-- REGISTER FORM -->
<div class="page-container relative z-10">
    <div class="relative w-full max-w-md">
        <!-- Back Button -->
        <a href="{% url 'index' %}" class="hover-trigger absolute -top-12 left-0 md:-left-12 flex items-center gap-2 text-emerald-900 font-bold hover:underline decoration-2 underline-offset-4 transition-all z-20">
            <i data-lucide="arrow-left" class="w-5 h-5"></i> Trang chủ
        </a>

        <!-- The Paper Form -->
        <div class="relative bg-[#fff] p-8 md:p-12 shadow-2xl border border-stone-200 -rotate-1 transition-transform duration-300 hover:rotate-0">
            <!-- Tape holding the form -->
            <div class="tape -top-5 right-20 rotate-2"></div>
            <div class="tape -bottom-5 left-20 -rotate-1"></div>
            
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="font-art text-4xl font-bold text-emerald-950 mb-2">Gia Nhập.</div>
                <p class="text-stone-500 text-sm font-mono tracking-tighter">BECOME A MEMBER / 2024</p>
                <div class="w-12 h-1 bg-emerald-900 mx-auto mt-4"></div>
            </div>

            {% if form.non_field_errors %}
            <div class="mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 text-sm font-medium">
                {% for error in form.non_field_errors %}{{ error }}{% endfor %}
            </div>
            {% endif %}

            <!-- Inputs -->
            <form method="post">
                {% csrf_token %}
                
                <div class="input-group">
                    <input type="text" name="first_name" class="input-field hover-trigger {% if form.first_name.errors %}border-red-500{% endif %}" placeholder=" " value="{{ form.first_name.value|default:'' }}" required>
                    <label class="input-label">Họ</label>
                    {% if form.first_name.errors %}<p class="text-red-500 text-xs mt-1">{{ form.first_name.errors.0 }}</p>{% endif %}
                </div>

                <div class="input-group">
                    <input type="text" name="last_name" class="input-field hover-trigger {% if form.last_name.errors %}border-red-500{% endif %}" placeholder=" " value="{{ form.last_name.value|default:'' }}" required>
                    <label class="input-label">Tên</label>
                    {% if form.last_name.errors %}<p class="text-red-500 text-xs mt-1">{{ form.last_name.errors.0 }}</p>{% endif %}
                </div>

                <div class="input-group">
                    <input type="email" name="email" class="input-field hover-trigger {% if form.email.errors %}border-red-500{% endif %}" placeholder=" " value="{{ form.email.value|default:'' }}" required>
                    <label class="input-label">Email</label>
                    {% if form.email.errors %}<p class="text-red-500 text-xs mt-1">{{ form.email.errors.0 }}</p>{% endif %}
                </div>
                
                <div class="input-group">
                    <input type="password" name="password1" class="input-field hover-trigger {% if form.password1.errors %}border-red-500{% endif %}" placeholder=" " required>
                    <label class="input-label">Mật khẩu</label>
                    {% if form.password1.errors %}<p class="text-red-500 text-xs mt-1">{{ form.password1.errors.0 }}</p>{% endif %}
                </div>

                <div class="input-group">
                    <input type="password" name="password2" class="input-field hover-trigger {% if form.password2.errors %}border-red-500{% endif %}" placeholder=" " required>
                    <label class="input-label">Nhập lại mật khẩu</label>
                    {% if form.password2.errors %}<p class="text-red-500 text-xs mt-1">{{ form.password2.errors.0 }}</p>{% endif %}
                </div>

                <div class="flex items-start gap-3 mb-8 mt-6">
                    <div class="relative flex items-center h-5">
                        <input type="checkbox" name="terms" class="peer h-4 w-4 border-2 border-stone-400 text-emerald-900 focus:ring-0 cursor-pointer hover-trigger" required>
                    </div>
                    <label class="text-xs text-stone-600 leading-tight">
                        Tôi đồng ý với <a href="#" class="font-bold text-emerald-900 border-b border-emerald-900 hover-trigger">Điều khoản dịch vụ</a> và <a href="#" class="font-bold text-emerald-900 border-b border-emerald-900 hover-trigger">Chính sách bảo mật</a> của TeaZen.
                    </label>
                </div>

                <button type="submit" class="hover-trigger w-full bg-emerald-900 text-white font-bold py-4 uppercase tracking-[0.2em] text-xs brutal-btn border-2 border-emerald-950 hover:bg-emerald-800 transition-colors">
                    Đăng Ký Thành Viên
                </button>
            </form>

            <!-- Footer -->
            <div class="mt-8 pt-6 border-t-2 border-dashed border-stone-200 text-center">
                <p class="text-stone-600 text-sm">
                    Đã có tài khoản? <a href="{% url 'login' %}" class="font-bold text-emerald-800 border-b-2 border-emerald-800 hover:text-emerald-600 hover:border-emerald-600 transition-colors hover-trigger uppercase tracking-wide ml-1">Đăng nhập</a>
                </p>
            </div>
            
            <!-- Decorative Stamps -->
            <div class="absolute -left-6 top-20 w-20 h-20 rounded-full border-2 border-dashed border-emerald-800 text-emerald-800 flex items-center justify-center font-bold text-[10px] uppercase -rotate-12 opacity-60 mix-blend-multiply bg-[#f2f0ec] hidden md:flex">
                Member<br>Club
            </div>
            <i data-lucide="sparkle" class="absolute -top-4 -right-4 w-10 h-10 text-yellow-500 rotate-12 mix-blend-multiply opacity-80 animate-pulse"></i>
        </div>
    </div>
</div>
{% endblock %}
